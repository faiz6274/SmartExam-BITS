{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState } from \"react\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport KeyboardAvoidingView from \"react-native-web/dist/exports/KeyboardAvoidingView\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\nimport { LinearGradient } from \"expo-linear-gradient\";\nimport api from \"../api/axios\";\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function RegisterScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useState = useState(\"student\"),\n    _useState2 = _slicedToArray(_useState, 2),\n    role = _useState2[0],\n    setRole = _useState2[1];\n  var _useState3 = useState(\"\"),\n    _useState4 = _slicedToArray(_useState3, 2),\n    username = _useState4[0],\n    setUsername = _useState4[1];\n  var _useState5 = useState(\"\"),\n    _useState6 = _slicedToArray(_useState5, 2),\n    email = _useState6[0],\n    setEmail = _useState6[1];\n  var _useState7 = useState(\"\"),\n    _useState8 = _slicedToArray(_useState7, 2),\n    password = _useState8[0],\n    setPassword = _useState8[1];\n  var _useState9 = useState(\"\"),\n    _useState0 = _slicedToArray(_useState9, 2),\n    confirmPassword = _useState0[0],\n    setConfirmPassword = _useState0[1];\n  var _useState1 = useState(false),\n    _useState10 = _slicedToArray(_useState1, 2),\n    showPassword = _useState10[0],\n    setShowPassword = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    showConfirmPassword = _useState12[0],\n    setShowConfirmPassword = _useState12[1];\n  var _useState13 = useState(false),\n    _useState14 = _slicedToArray(_useState13, 2),\n    loading = _useState14[0],\n    setLoading = _useState14[1];\n  var _useState15 = useState({}),\n    _useState16 = _slicedToArray(_useState15, 2),\n    errors = _useState16[0],\n    setErrors = _useState16[1];\n  var validateInputs = function validateInputs() {\n    var newErrors = {};\n    if (!username.trim()) {\n      newErrors.username = \"Username is required\";\n    } else if (username.length < 3) {\n      newErrors.username = \"Username must be at least 3 characters\";\n    } else if (username.length > 30) {\n      newErrors.username = \"Username must be at most 30 characters\";\n    } else if (!/^[A-Za-z0-9_]+$/.test(username)) {\n      newErrors.username = \"Username can only contain letters, numbers, and underscores\";\n    }\n    if (!email.trim()) {\n      newErrors.email = \"Email is required\";\n    } else if (!/^\\S+@\\S+\\.\\S+$/.test(email)) {\n      newErrors.email = \"Please enter a valid email address\";\n    }\n    if (!password) {\n      newErrors.password = \"Password is required\";\n    } else if (password.length < 8) {\n      newErrors.password = \"Password must be at least 8 characters\";\n    } else if (!/[A-Z]/.test(password)) {\n      newErrors.password = \"Password must contain at least one uppercase letter\";\n    } else if (!/[0-9]/.test(password)) {\n      newErrors.password = \"Password must contain at least one number\";\n    } else if (!/[!@#$%^&*()_\\-+={}[\\]|\\\\:;\"'<>,.?/]/.test(password)) {\n      newErrors.password = \"Password must contain at least one special character\";\n    }\n    if (!confirmPassword) {\n      newErrors.confirmPassword = \"Please confirm your password\";\n    } else if (password !== confirmPassword) {\n      newErrors.confirmPassword = \"Passwords do not match\";\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  var buildErrorMessage = function buildErrorMessage(data) {\n    if (!data || typeof data !== \"object\") return \"Registration failed. Please try again.\";\n    if (data.email && Array.isArray(data.email)) {\n      return \"Email: \" + data.email[0];\n    } else if (data.username && Array.isArray(data.username)) {\n      return \"Username: \" + data.username[0];\n    } else if (data.password && Array.isArray(data.password)) {\n      return \"Password: \" + data.password[0];\n    } else if (data.confirmPassword && Array.isArray(data.confirmPassword)) {\n      return \"Confirm Password: \" + data.confirmPassword[0];\n    } else if (data.role) {\n      return String(data.role);\n    } else if (data.detail) {\n      return String(data.detail);\n    } else {\n      var keys = Object.keys(data);\n      if (keys.length > 0) {\n        var k = keys[0];\n        var v = Array.isArray(data[k]) ? data[k][0] : data[k];\n        return k + \": \" + v;\n      }\n    }\n    return \"Registration failed. Please try again.\";\n  };\n  var register = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!validateInputs()) {\n        Alert.alert(\"Validation Error\", \"Please fix the errors below\");\n        return;\n      }\n      setLoading(true);\n      var payload = {\n        username: username.trim(),\n        email: email.trim(),\n        password: password,\n        confirmPassword: confirmPassword,\n        role: role\n      };\n      console.log(\"REGISTER PAYLOAD:\", payload);\n      console.log(\"API Base URL:\", api.defaults.baseURL);\n      try {\n        var res = yield api.post(\"register/\", payload);\n        console.log(\"REGISTER STATUS:\", res.status);\n        console.log(\"REGISTER RESPONSE:\", res.data);\n        if (res.status === 201) {\n          Alert.alert(\"Account Created Successfully\", \"Welcome to SmartExam, \" + username + \"!\\n\\nYour account has been created as a \" + role + \".\\n\\nPlease login with your credentials.\", [{\n            text: \"Login Now\",\n            onPress: function onPress() {\n              return navigation.goBack();\n            },\n            style: \"default\"\n          }], {\n            cancelable: false\n          });\n        } else {\n          Alert.alert(\"Registration Failed\", \"Unexpected response from server.\");\n        }\n      } catch (e) {\n        var _e$response, _e$response2;\n        var status = e == null ? void 0 : (_e$response = e.response) == null ? void 0 : _e$response.status;\n        var data = e == null ? void 0 : (_e$response2 = e.response) == null ? void 0 : _e$response2.data;\n        console.log(\"Registration error:\", e == null ? void 0 : e.message, \"status:\", status, \"data:\", data);\n        var msg = \"Registration failed. Please try again.\";\n        if (data) {\n          if (data.email && Array.isArray(data.email)) msg = \"Email: \" + data.email[0];else if (data.username && Array.isArray(data.username)) msg = \"Username: \" + data.username[0];else if (data.password && Array.isArray(data.password)) msg = \"Password: \" + data.password[0];else if (data.confirmPassword && Array.isArray(data.confirmPassword)) msg = \"Confirm Password: \" + data.confirmPassword[0];else if (data.role) msg = String(data.role);else if (data.detail) msg = String(data.detail);else {\n            var k = Object.keys(data)[0];\n            var v = Array.isArray(data[k]) ? data[k][0] : data[k];\n            msg = k + \": \" + v;\n          }\n        } else if (e != null && e.message) {\n          msg = e.message;\n        }\n        Alert.alert(\"Registration Failed\", msg);\n        setErrors(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, {\n            username: Array.isArray(data == null ? void 0 : data.username) ? data.username[0] : prev.username,\n            email: Array.isArray(data == null ? void 0 : data.email) ? data.email[0] : prev.email,\n            password: Array.isArray(data == null ? void 0 : data.password) ? data.password[0] : prev.password,\n            confirmPassword: Array.isArray(data == null ? void 0 : data.confirmPassword) ? data.confirmPassword[0] : prev.confirmPassword\n          });\n        });\n      } finally {\n        setLoading(false);\n      }\n    });\n    return function register() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsx(KeyboardAvoidingView, {\n    behavior: Platform.OS === \"ios\" ? \"padding\" : \"height\",\n    style: styles.keyboardAvoid,\n    children: _jsx(ScrollView, {\n      style: styles.container,\n      contentContainerStyle: {\n        flexGrow: 1\n      },\n      bounces: false,\n      showsVerticalScrollIndicator: false,\n      children: _jsxs(View, {\n        style: styles.scrollContent,\n        children: [_jsx(Text, {\n          style: styles.title,\n          children: \"Create Account\"\n        }), _jsx(Text, {\n          style: styles.subtitle,\n          children: \"Join the next generation of smart exams\"\n        }), _jsx(View, {\n          style: styles.validationInfo,\n          children: _jsxs(Text, {\n            style: styles.validationInfoText,\n            children: [_jsx(Text, {\n              style: {\n                fontWeight: \"700\",\n                color: \"#64c8ff\"\n              },\n              children: \"Password requirements:\"\n            }), \"\\n\", \"\\u2022 At least 8 characters\", \"\\n\", \"\\u2022 One uppercase letter\", \"\\n\", \"\\u2022 One number\", \"\\n\", \"\\u2022 One special character (!@#$%^&*)\"]\n          })\n        }), _jsxs(View, {\n          style: styles.fieldContainer,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Choose Your Role\"\n          }), _jsxs(View, {\n            style: styles.roleContainer,\n            children: [_jsx(TouchableOpacity, {\n              style: [styles.roleButton, role === \"student\" && styles.roleButtonActive],\n              onPress: function onPress() {\n                return setRole(\"student\");\n              },\n              disabled: loading,\n              activeOpacity: 0.8,\n              children: _jsx(Text, {\n                style: [styles.roleButtonText, role === \"student\" && styles.roleButtonTextActive],\n                children: \"\\uD83C\\uDF93 Student\"\n              })\n            }), _jsx(TouchableOpacity, {\n              style: [styles.roleButton, role === \"instructor\" && styles.roleButtonActive],\n              onPress: function onPress() {\n                return setRole(\"instructor\");\n              },\n              disabled: loading,\n              activeOpacity: 0.8,\n              children: _jsx(Text, {\n                style: [styles.roleButtonText, role === \"instructor\" && styles.roleButtonTextActive],\n                children: \"\\uD83D\\uDC68\\u200D\\uD83C\\uDFEB Instructor\"\n              })\n            })]\n          })]\n        }), _jsxs(View, {\n          style: styles.fieldContainer,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Username\"\n          }), _jsx(TextInput, {\n            placeholder: \"3-30 characters, letters/numbers/_\",\n            placeholderTextColor: \"#555\",\n            value: username,\n            onChangeText: function onChangeText(text) {\n              setUsername(text);\n              if (errors.username) setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n                username: \"\"\n              }));\n            },\n            style: [styles.input, errors.username && styles.inputError],\n            editable: !loading\n          }), errors.username ? _jsx(Text, {\n            style: styles.errorText,\n            children: errors.username\n          }) : null]\n        }), _jsxs(View, {\n          style: styles.fieldContainer,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Email Address\"\n          }), _jsx(TextInput, {\n            placeholder: \"your@email.com\",\n            placeholderTextColor: \"#555\",\n            value: email,\n            onChangeText: function onChangeText(text) {\n              setEmail(text);\n              if (errors.email) setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n                email: \"\"\n              }));\n            },\n            keyboardType: \"email-address\",\n            style: [styles.input, errors.email && styles.inputError],\n            editable: !loading,\n            autoCapitalize: \"none\"\n          }), errors.email ? _jsx(Text, {\n            style: styles.errorText,\n            children: errors.email\n          }) : null]\n        }), _jsxs(View, {\n          style: styles.fieldContainer,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Password\"\n          }), _jsxs(View, {\n            style: [styles.passwordContainer, errors.password && styles.passwordContainerError],\n            children: [_jsx(TextInput, {\n              placeholder: \"Enter password\",\n              placeholderTextColor: \"#555\",\n              secureTextEntry: !showPassword,\n              value: password,\n              onChangeText: function onChangeText(text) {\n                setPassword(text);\n                if (errors.password) setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n                  password: \"\"\n                }));\n              },\n              style: styles.passwordInput,\n              editable: !loading,\n              autoCapitalize: \"none\"\n            }), _jsx(TouchableOpacity, {\n              style: styles.visibilityIcon,\n              onPress: function onPress() {\n                return setShowPassword(!showPassword);\n              },\n              disabled: loading,\n              children: _jsx(MaterialCommunityIcons, {\n                name: showPassword ? \"eye-off\" : \"eye\",\n                size: 20,\n                color: \"#64c8ff\"\n              })\n            })]\n          }), errors.password ? _jsx(Text, {\n            style: styles.errorText,\n            children: errors.password\n          }) : null]\n        }), _jsxs(View, {\n          style: styles.fieldContainer,\n          children: [_jsx(Text, {\n            style: styles.label,\n            children: \"Confirm Password\"\n          }), _jsxs(View, {\n            style: [styles.passwordContainer, errors.confirmPassword && styles.passwordContainerError],\n            children: [_jsx(TextInput, {\n              placeholder: \"Re-enter password\",\n              placeholderTextColor: \"#555\",\n              secureTextEntry: !showConfirmPassword,\n              value: confirmPassword,\n              onChangeText: function onChangeText(text) {\n                setConfirmPassword(text);\n                if (errors.confirmPassword) setErrors(_objectSpread(_objectSpread({}, errors), {}, {\n                  confirmPassword: \"\"\n                }));\n              },\n              style: styles.passwordInput,\n              editable: !loading,\n              autoCapitalize: \"none\"\n            }), _jsx(TouchableOpacity, {\n              style: styles.visibilityIcon,\n              onPress: function onPress() {\n                return setShowConfirmPassword(!showConfirmPassword);\n              },\n              disabled: loading,\n              children: _jsx(MaterialCommunityIcons, {\n                name: showConfirmPassword ? \"eye-off\" : \"eye\",\n                size: 20,\n                color: \"#64c8ff\"\n              })\n            })]\n          }), errors.confirmPassword ? _jsx(Text, {\n            style: styles.errorText,\n            children: errors.confirmPassword\n          }) : null]\n        }), _jsxs(View, {\n          style: styles.buttonContainer,\n          children: [_jsx(TouchableOpacity, {\n            style: styles.registerButton,\n            onPress: register,\n            disabled: loading,\n            activeOpacity: 0.8,\n            children: _jsxs(LinearGradient, {\n              colors: [\"#64c8ff\", \"#1a7cff\"],\n              start: {\n                x: 0,\n                y: 0\n              },\n              end: {\n                x: 1,\n                y: 1\n              },\n              style: styles.registerGradient,\n              children: [_jsx(MaterialCommunityIcons, {\n                name: \"account-plus\",\n                size: 20,\n                color: \"#fff\"\n              }), _jsx(Text, {\n                style: styles.registerButtonText,\n                children: loading ? \"Creating...\" : \"Create Account\"\n              })]\n            })\n          }), _jsx(TouchableOpacity, {\n            style: styles.backButton,\n            onPress: function onPress() {\n              return navigation.goBack();\n            },\n            disabled: loading,\n            activeOpacity: 0.8,\n            children: _jsx(Text, {\n              style: styles.backButtonText,\n              children: \"Back to Login\"\n            })\n          })]\n        }), _jsx(View, {\n          style: {\n            height: 40\n          }\n        })]\n      })\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  keyboardAvoid: {\n    flex: 1\n  },\n  container: {\n    flex: 1,\n    backgroundColor: \"#0a0f1e\"\n  },\n  scrollContent: {\n    paddingHorizontal: 20,\n    paddingVertical: 24\n  },\n  title: {\n    fontSize: 28,\n    fontWeight: \"700\",\n    marginBottom: 8,\n    textAlign: \"center\",\n    color: \"#fff\"\n  },\n  subtitle: {\n    fontSize: 13,\n    color: \"#9099\",\n    textAlign: \"center\",\n    marginBottom: 24,\n    letterSpacing: 0.5\n  },\n  fieldContainer: {\n    marginBottom: 16\n  },\n  label: {\n    fontSize: 11,\n    fontWeight: \"700\",\n    color: \"#64c8ff\",\n    marginBottom: 8,\n    textTransform: \"uppercase\",\n    letterSpacing: 1\n  },\n  input: {\n    padding: 14,\n    borderWidth: 1.5,\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\n    borderRadius: 12,\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\n    fontSize: 14,\n    color: \"#fff\",\n    fontWeight: \"500\"\n  },\n  inputError: {\n    borderColor: \"rgba(255, 107, 107, 0.8)\",\n    backgroundColor: \"rgba(255, 107, 107, 0.1)\"\n  },\n  errorText: {\n    color: \"#ff6b6b\",\n    fontSize: 11,\n    marginTop: 6,\n    fontWeight: \"600\"\n  },\n  roleContainer: {\n    flexDirection: \"row\",\n    gap: 12,\n    marginBottom: 16\n  },\n  roleButton: {\n    flex: 1,\n    paddingVertical: 14,\n    paddingHorizontal: 16,\n    borderWidth: 1.5,\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\n    borderRadius: 12,\n    alignItems: \"center\",\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\"\n  },\n  roleButtonActive: {\n    borderColor: \"#64c8ff\",\n    backgroundColor: \"rgba(100, 200, 255, 0.15)\"\n  },\n  roleButtonText: {\n    color: \"#fff\",\n    fontSize: 14,\n    fontWeight: \"700\",\n    letterSpacing: 0.5\n  },\n  roleButtonTextActive: {\n    color: \"#64c8ff\"\n  },\n  passwordContainer: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    borderWidth: 1.5,\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\n    borderRadius: 12,\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\n    paddingHorizontal: 12\n  },\n  passwordContainerError: {\n    borderColor: \"rgba(255, 107, 107, 0.8)\",\n    backgroundColor: \"rgba(255, 107, 107, 0.1)\"\n  },\n  passwordInput: {\n    flex: 1,\n    padding: 14,\n    fontSize: 14,\n    color: \"#fff\",\n    fontWeight: \"500\"\n  },\n  visibilityIcon: {\n    padding: 8\n  },\n  buttonContainer: {\n    marginTop: 32,\n    gap: 12\n  },\n  registerButton: {\n    height: 52,\n    borderRadius: 12,\n    overflow: \"hidden\",\n    shadowColor: \"#64c8ff\",\n    shadowOffset: {\n      width: 0,\n      height: 8\n    },\n    shadowOpacity: 0.3,\n    shadowRadius: 10,\n    elevation: 10\n  },\n  registerGradient: {\n    flex: 1,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    flexDirection: \"row\"\n  },\n  registerButtonText: {\n    color: \"#fff\",\n    fontSize: 16,\n    fontWeight: \"700\",\n    letterSpacing: 0.5,\n    marginLeft: 8\n  },\n  backButton: {\n    padding: 14,\n    borderRadius: 12,\n    alignItems: \"center\",\n    borderWidth: 1.5,\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\"\n  },\n  backButtonText: {\n    color: \"#64c8ff\",\n    fontSize: 14,\n    fontWeight: \"700\",\n    letterSpacing: 0.5\n  },\n  validationInfo: {\n    backgroundColor: \"rgba(100, 200, 255, 0.1)\",\n    borderLeftWidth: 3,\n    borderLeftColor: \"#64c8ff\",\n    padding: 14,\n    borderRadius: 10,\n    marginBottom: 20\n  },\n  validationInfoText: {\n    fontSize: 12,\n    color: \"rgba(255,255,255,0.7)\",\n    lineHeight: 20,\n    fontWeight: \"500\"\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","Alert","ScrollView","KeyboardAvoidingView","Platform","StyleSheet","MaterialCommunityIcons","LinearGradient","api","jsx","_jsx","jsxs","_jsxs","RegisterScreen","_ref","navigation","_useState","_useState2","_slicedToArray","role","setRole","_useState3","_useState4","username","setUsername","_useState5","_useState6","email","setEmail","_useState7","_useState8","password","setPassword","_useState9","_useState0","confirmPassword","setConfirmPassword","_useState1","_useState10","showPassword","setShowPassword","_useState11","_useState12","showConfirmPassword","setShowConfirmPassword","_useState13","_useState14","loading","setLoading","_useState15","_useState16","errors","setErrors","validateInputs","newErrors","trim","length","test","Object","keys","buildErrorMessage","data","Array","isArray","String","detail","k","v","register","_ref2","_asyncToGenerator","alert","payload","console","log","defaults","baseURL","res","post","status","text","onPress","goBack","style","cancelable","e","_e$response","_e$response2","response","message","msg","prev","_objectSpread","apply","arguments","behavior","OS","styles","keyboardAvoid","children","container","contentContainerStyle","flexGrow","bounces","showsVerticalScrollIndicator","scrollContent","title","subtitle","validationInfo","validationInfoText","fontWeight","color","fieldContainer","label","roleContainer","roleButton","roleButtonActive","disabled","activeOpacity","roleButtonText","roleButtonTextActive","placeholder","placeholderTextColor","value","onChangeText","input","inputError","editable","errorText","keyboardType","autoCapitalize","passwordContainer","passwordContainerError","secureTextEntry","passwordInput","visibilityIcon","name","size","buttonContainer","registerButton","colors","start","x","y","end","registerGradient","registerButtonText","backButton","backButtonText","height","create","flex","backgroundColor","paddingHorizontal","paddingVertical","fontSize","marginBottom","textAlign","letterSpacing","textTransform","padding","borderWidth","borderColor","borderRadius","marginTop","flexDirection","gap","alignItems","overflow","shadowColor","shadowOffset","width","shadowOpacity","shadowRadius","elevation","justifyContent","marginLeft","borderLeftWidth","borderLeftColor","lineHeight"],"sources":["C:/Users/Administrator/Documents/GitHub/SmartExam-BITS/SmartExam_Frontend/src/screens/RegisterScreen.js"],"sourcesContent":["\r\n// src/screens/RegisterScreen.js\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  Alert,\r\n  ScrollView,\r\n  KeyboardAvoidingView,\r\n  Platform,\r\n  StyleSheet,\r\n} from \"react-native\";\r\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\r\nimport { LinearGradient } from \"expo-linear-gradient\";\r\nimport api from \"../api/axios\"; // adjust if your path differs\r\n\r\nexport default function RegisterScreen({ navigation }) {\r\n  // ----- Form state -----\r\n  const [role, setRole] = useState(\"student\"); // \"student\" | \"instructor\"\r\n  const [username, setUsername] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n\r\n  // ----- UI state -----\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errors, setErrors] = useState({});\r\n\r\n  // ----- Client-side validations (matching your on-screen tips) -----\r\n  const validateInputs = () => {\r\n    const newErrors = {};\r\n\r\n    // Username\r\n    if (!username.trim()) {\r\n      newErrors.username = \"Username is required\";\r\n    } else if (username.length < 3) {\r\n      newErrors.username = \"Username must be at least 3 characters\";\r\n    } else if (username.length > 30) {\r\n      newErrors.username = \"Username must be at most 30 characters\";\r\n    } else if (!/^[A-Za-z0-9_]+$/.test(username)) {\r\n      newErrors.username = \"Username can only contain letters, numbers, and underscores\";\r\n    }\r\n\r\n    // Email\r\n    if (!email.trim()) {\r\n      newErrors.email = \"Email is required\";\r\n    } else if (!/^\\S+@\\S+\\.\\S+$/.test(email)) {\r\n      newErrors.email = \"Please enter a valid email address\";\r\n    }\r\n\r\n    // Password\r\n    if (!password) {\r\n      newErrors.password = \"Password is required\";\r\n    } else if (password.length < 8) {\r\n      newErrors.password = \"Password must be at least 8 characters\";\r\n    } else if (!/[A-Z]/.test(password)) {\r\n      newErrors.password = \"Password must contain at least one uppercase letter\";\r\n    } else if (!/[0-9]/.test(password)) {\r\n      newErrors.password = \"Password must contain at least one number\";\r\n    } else if (!/[!@#$%^&*()_\\-+={}[\\]|\\\\:;\"'<>,.?/]/.test(password)) {\r\n      newErrors.password = \"Password must contain at least one special character\";\r\n    }\r\n\r\n    // Confirm Password\r\n    if (!confirmPassword) {\r\n      newErrors.confirmPassword = \"Please confirm your password\";\r\n    } else if (password !== confirmPassword) {\r\n      newErrors.confirmPassword = \"Passwords do not match\";\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  // Map backend errors (DRF serializer) to an Alert message\r\n  const buildErrorMessage = (data) => {\r\n    if (!data || typeof data !== \"object\") return \"Registration failed. Please try again.\";\r\n\r\n    if (data.email && Array.isArray(data.email)) {\r\n      return `Email: ${data.email[0]}`;\r\n    } else if (data.username && Array.isArray(data.username)) {\r\n      return `Username: ${data.username[0]}`;\r\n    } else if (data.password && Array.isArray(data.password)) {\r\n      return `Password: ${data.password[0]}`;\r\n    } else if (data.confirmPassword && Array.isArray(data.confirmPassword)) {\r\n      return `Confirm Password: ${data.confirmPassword[0]}`;\r\n    } else if (data.role) {\r\n      return String(data.role);\r\n    } else if (data.detail) {\r\n      return String(data.detail);\r\n    } else {\r\n      const keys = Object.keys(data);\r\n      if (keys.length > 0) {\r\n        const k = keys[0];\r\n        const v = Array.isArray(data[k]) ? data[k][0] : data[k];\r\n        return `${k}: ${v}`;\r\n      }\r\n    }\r\n    return \"Registration failed. Please try again.\";\r\n  };\r\n\r\n  // ----- Submit handler (uses axios baseURL + \"register/\") -----\r\n\r\nconst register = async () => {\r\n  // Client-side validations you already have\r\n  if (!validateInputs()) {\r\n    Alert.alert(\"Validation Error\", \"Please fix the errors below\");\r\n    return;\r\n  }\r\n\r\n  setLoading(true);\r\n\r\n  // Build payload EXACTLY as backend expects\r\n  const payload = {\r\n    username: username.trim(),\r\n    email: email.trim(),\r\n    password,\r\n    confirmPassword,      // must be non-empty and match password\r\n    role,                 // \"student\" | \"instructor\"\r\n    // first_name, last_name if you add them later\r\n  };\r\n\r\n  // Helpful debug\r\n  console.log(\"REGISTER PAYLOAD:\", payload);\r\n  console.log(\"API Base URL:\", api.defaults.baseURL);\r\n\r\n  try {\r\n    // IMPORTANT\r\n    //  - baseURL in src/axios.js must end with /api/\r\n    //  - endpoint path here must be relative and include a trailing slash\r\n    //    e.g., \"register/\"\r\n    const res = await api.post(\"register/\", payload);\r\n\r\n    console.log(\"REGISTER STATUS:\", res.status);\r\n    console.log(\"REGISTER RESPONSE:\", res.data);\r\n\r\n    if (res.status === 201) {\r\n      // ‚úÖ Only show success when backend actually created the user\r\n      Alert.alert(\r\n        \"Account Created Successfully\",\r\n        `Welcome to SmartExam, ${username}!\\n\\nYour account has been created as a ${role}.\\n\\nPlease login with your credentials.`,\r\n        [{ text: \"Login Now\", onPress: () => navigation.goBack(), style: \"default\" }],\r\n        { cancelable: false }\r\n      );\r\n    } else {\r\n      // very rare non-201 case\r\n      Alert.alert(\"Registration Failed\", \"Unexpected response from server.\");\r\n    }\r\n  } catch (e) {\r\n    const status = e?.response?.status;\r\n    const data = e?.response?.data;\r\n    console.log(\"Registration error:\", e?.message, \"status:\", status, \"data:\", data);\r\n\r\n    // Map DRF serializer errors to a readable message\r\n    let msg = \"Registration failed. Please try again.\";\r\n    if (data) {\r\n      if (data.email && Array.isArray(data.email)) msg = `Email: ${data.email[0]}`;\r\n      else if (data.username && Array.isArray(data.username)) msg = `Username: ${data.username[0]}`;\r\n      else if (data.password && Array.isArray(data.password)) msg = `Password: ${data.password[0]}`;\r\n      else if (data.confirmPassword && Array.isArray(data.confirmPassword)) msg = `Confirm Password: ${data.confirmPassword[0]}`;\r\n      else if (data.role) msg = String(data.role);\r\n      else if (data.detail) msg = String(data.detail);\r\n      else {\r\n        const k = Object.keys(data)[0];\r\n        const v = Array.isArray(data[k]) ? data[k][0] : data[k];\r\n        msg = `${k}: ${v}`;\r\n      }\r\n    } else if (e?.message) {\r\n      msg = e.message;\r\n    }\r\n\r\n    Alert.alert(\"Registration Failed\", msg);\r\n\r\n    // Push the backend field errors under your inputs for UX\r\n    setErrors((prev) => ({\r\n      ...prev,\r\n      username: Array.isArray(data?.username) ? data.username[0] : prev.username,\r\n      email: Array.isArray(data?.email) ? data.email[0] : prev.email,\r\n      password: Array.isArray(data?.password) ? data.password[0] : prev.password,\r\n      confirmPassword: Array.isArray(data?.confirmPassword) ? data.confirmPassword[0] : prev.confirmPassword,\r\n    }));\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n\r\n\r\n  // ----- UI -----\r\n  return (\r\n    <KeyboardAvoidingView\r\n      behavior={Platform.OS === \"ios\" ? \"padding\" : \"height\"}\r\n      style={styles.keyboardAvoid}\r\n    >\r\n      <ScrollView\r\n        style={styles.container}\r\n        contentContainerStyle={{ flexGrow: 1 }}\r\n        bounces={false}\r\n        showsVerticalScrollIndicator={false}\r\n      >\r\n        <View style={styles.scrollContent}>\r\n          <Text style={styles.title}>Create Account</Text>\r\n          <Text style={styles.subtitle}>Join the next generation of smart exams</Text>\r\n\r\n          {/* Password requirements */}\r\n          <View style={styles.validationInfo}>\r\n            <Text style={styles.validationInfoText}>\r\n              <Text style={{ fontWeight: \"700\", color: \"#64c8ff\" }}>Password requirements:</Text>\r\n              {\"\\n\"}‚Ä¢ At least 8 characters\r\n              {\"\\n\"}‚Ä¢ One uppercase letter\r\n              {\"\\n\"}‚Ä¢ One number\r\n              {\"\\n\"}‚Ä¢ One special character (!@#$%^&*)\r\n            </Text>\r\n          </View>\r\n\r\n          {/* Role selection */}\r\n          <View style={styles.fieldContainer}>\r\n            <Text style={styles.label}>Choose Your Role</Text>\r\n            <View style={styles.roleContainer}>\r\n              <TouchableOpacity\r\n                style={[styles.roleButton, role === \"student\" && styles.roleButtonActive]}\r\n                onPress={() => setRole(\"student\")}\r\n                disabled={loading}\r\n                activeOpacity={0.8}\r\n              >\r\n                <Text style={[styles.roleButtonText, role === \"student\" && styles.roleButtonTextActive]}>\r\n                  üéì Student\r\n                </Text>\r\n              </TouchableOpacity>\r\n\r\n              <TouchableOpacity\r\n                style={[styles.roleButton, role === \"instructor\" && styles.roleButtonActive]}\r\n                onPress={() => setRole(\"instructor\")}\r\n                disabled={loading}\r\n                activeOpacity={0.8}\r\n              >\r\n                <Text style={[styles.roleButtonText, role === \"instructor\" && styles.roleButtonTextActive]}>\r\n                  üë®‚Äçüè´ Instructor\r\n                </Text>\r\n              </TouchableOpacity>\r\n            </View>\r\n          </View>\r\n\r\n          {/* Username */}\r\n          <View style={styles.fieldContainer}>\r\n            <Text style={styles.label}>Username</Text>\r\n            <TextInput\r\n              placeholder=\"3-30 characters, letters/numbers/_\"\r\n              placeholderTextColor=\"#555\"\r\n              value={username}\r\n              onChangeText={(text) => {\r\n                setUsername(text);\r\n                if (errors.username) setErrors({ ...errors, username: \"\" });\r\n              }}\r\n              style={[styles.input, errors.username && styles.inputError]}\r\n              editable={!loading}\r\n            />\r\n            {errors.username ? <Text style={styles.errorText}>{errors.username}</Text> : null}\r\n          </View>\r\n\r\n          {/* Email */}\r\n          <View style={styles.fieldContainer}>\r\n            <Text style={styles.label}>Email Address</Text>\r\n            <TextInput\r\n              placeholder=\"your@email.com\"\r\n              placeholderTextColor=\"#555\"\r\n              value={email}\r\n              onChangeText={(text) => {\r\n                setEmail(text);\r\n                if (errors.email) setErrors({ ...errors, email: \"\" });\r\n              }}\r\n              keyboardType=\"email-address\"\r\n              style={[styles.input, errors.email && styles.inputError]}\r\n              editable={!loading}\r\n              autoCapitalize=\"none\"\r\n            />\r\n            {errors.email ? <Text style={styles.errorText}>{errors.email}</Text> : null}\r\n          </View>\r\n\r\n          {/* Password */}\r\n          <View style={styles.fieldContainer}>\r\n            <Text style={styles.label}>Password</Text>\r\n            <View style={[styles.passwordContainer, errors.password && styles.passwordContainerError]}>\r\n              <TextInput\r\n                placeholder=\"Enter password\"\r\n                placeholderTextColor=\"#555\"\r\n                secureTextEntry={!showPassword}\r\n                value={password}\r\n                onChangeText={(text) => {\r\n                  setPassword(text);\r\n                  if (errors.password) setErrors({ ...errors, password: \"\" });\r\n                }}\r\n                style={styles.passwordInput}\r\n                editable={!loading}\r\n                autoCapitalize=\"none\"\r\n              />\r\n              <TouchableOpacity\r\n                style={styles.visibilityIcon}\r\n                onPress={() => setShowPassword(!showPassword)}\r\n                disabled={loading}\r\n              >\r\n                <MaterialCommunityIcons\r\n                  name={showPassword ? \"eye-off\" : \"eye\"}\r\n                  size={20}\r\n                  color=\"#64c8ff\"\r\n                />\r\n              </TouchableOpacity>\r\n            </View>\r\n            {errors.password ? <Text style={styles.errorText}>{errors.password}</Text> : null}\r\n          </View>\r\n\r\n          {/* Confirm Password */}\r\n          <View style={styles.fieldContainer}>\r\n            <Text style={styles.label}>Confirm Password</Text>\r\n            <View\r\n              style={[styles.passwordContainer, errors.confirmPassword && styles.passwordContainerError]}\r\n            >\r\n              <TextInput\r\n                placeholder=\"Re-enter password\"\r\n                placeholderTextColor=\"#555\"\r\n                secureTextEntry={!showConfirmPassword}\r\n                value={confirmPassword}\r\n                onChangeText={(text) => {\r\n                  setConfirmPassword(text);\r\n                  if (errors.confirmPassword) setErrors({ ...errors, confirmPassword: \"\" });\r\n                }}\r\n                style={styles.passwordInput}\r\n                editable={!loading}\r\n                autoCapitalize=\"none\"\r\n              />\r\n              <TouchableOpacity\r\n                style={styles.visibilityIcon}\r\n                onPress={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                disabled={loading}\r\n              >\r\n                <MaterialCommunityIcons\r\n                  name={showConfirmPassword ? \"eye-off\" : \"eye\"}\r\n                  size={20}\r\n                  color=\"#64c8ff\"\r\n                />\r\n              </TouchableOpacity>\r\n            </View>\r\n            {errors.confirmPassword ? (\r\n              <Text style={styles.errorText}>{errors.confirmPassword}</Text>\r\n            ) : null}\r\n          </View>\r\n\r\n          {/* Buttons */}\r\n          <View style={styles.buttonContainer}>\r\n            <TouchableOpacity\r\n              style={styles.registerButton}\r\n              onPress={register}\r\n              disabled={loading}\r\n              activeOpacity={0.8}\r\n            >\r\n              <LinearGradient\r\n                colors={[\"#64c8ff\", \"#1a7cff\"]}\r\n                start={{ x: 0, y: 0 }}\r\n                end={{ x: 1, y: 1 }}\r\n                style={styles.registerGradient}\r\n              >\r\n                <MaterialCommunityIcons name=\"account-plus\" size={20} color=\"#fff\" />\r\n                <Text style={styles.registerButtonText}>\r\n                  {loading ? \"Creating...\" : \"Create Account\"}\r\n                </Text>\r\n              </LinearGradient>\r\n            </TouchableOpacity>\r\n\r\n            <TouchableOpacity\r\n              style={styles.backButton}\r\n              onPress={() => navigation.goBack()}\r\n              disabled={loading}\r\n              activeOpacity={0.8}\r\n            >\r\n              <Text style={styles.backButtonText}>Back to Login</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n\r\n          <View style={{ height: 40 }} />\r\n        </View>\r\n      </ScrollView>\r\n    </KeyboardAvoidingView>\r\n  );\r\n}\r\n\r\n/* ===== Styles (kept to match your UI/UX) ===== */\r\nconst styles = StyleSheet.create({\r\n  keyboardAvoid: { flex: 1 },\r\n  container: { flex: 1, backgroundColor: \"#0a0f1e\" },\r\n  scrollContent: { paddingHorizontal: 20, paddingVertical: 24 },\r\n  title: { fontSize: 28, fontWeight: \"700\", marginBottom: 8, textAlign: \"center\", color: \"#fff\" },\r\n  subtitle: { fontSize: 13, color: \"#9099\", textAlign: \"center\", marginBottom: 24, letterSpacing: 0.5 },\r\n\r\n  fieldContainer: { marginBottom: 16 },\r\n  label: {\r\n    fontSize: 11,\r\n    fontWeight: \"700\",\r\n    color: \"#64c8ff\",\r\n    marginBottom: 8,\r\n    textTransform: \"uppercase\",\r\n    letterSpacing: 1,\r\n  },\r\n\r\n  input: {\r\n    padding: 14,\r\n    borderWidth: 1.5,\r\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\r\n    borderRadius: 12,\r\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n    fontSize: 14,\r\n    color: \"#fff\",\r\n    fontWeight: \"500\",\r\n  },\r\n  inputError: {\r\n    borderColor: \"rgba(255, 107, 107, 0.8)\",\r\n    backgroundColor: \"rgba(255, 107, 107, 0.1)\",\r\n  },\r\n  errorText: { color: \"#ff6b6b\", fontSize: 11, marginTop: 6, fontWeight: \"600\" },\r\n\r\n  // Role selection\r\n  roleContainer: { flexDirection: \"row\", gap: 12, marginBottom: 16 },\r\n  roleButton: {\r\n    flex: 1,\r\n    paddingVertical: 14,\r\n    paddingHorizontal: 16,\r\n    borderWidth: 1.5,\r\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\r\n    borderRadius: 12,\r\n    alignItems: \"center\",\r\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n  },\r\n  roleButtonActive: {\r\n    borderColor: \"#64c8ff\",\r\n    backgroundColor: \"rgba(100, 200, 255, 0.15)\",\r\n  },\r\n  roleButtonText: { color: \"#fff\", fontSize: 14, fontWeight: \"700\", letterSpacing: 0.5 },\r\n  roleButtonTextActive: { color: \"#64c8ff\" },\r\n\r\n  // Password fields\r\n  passwordContainer: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    borderWidth: 1.5,\r\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\r\n    borderRadius: 12,\r\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n    paddingHorizontal: 12,\r\n  },\r\n  passwordContainerError: {\r\n    borderColor: \"rgba(255, 107, 107, 0.8)\",\r\n    backgroundColor: \"rgba(255, 107, 107, 0.1)\",\r\n  },\r\n  passwordInput: { flex: 1, padding: 14, fontSize: 14, color: \"#fff\", fontWeight: \"500\" },\r\n  visibilityIcon: { padding: 8 },\r\n\r\n  // Buttons\r\n  buttonContainer: { marginTop: 32, gap: 12 },\r\n  registerButton: {\r\n    height: 52,\r\n    borderRadius: 12,\r\n    overflow: \"hidden\",\r\n    shadowColor: \"#64c8ff\",\r\n    shadowOffset: { width: 0, height: 8 },\r\n    shadowOpacity: 0.3,\r\n    shadowRadius: 10,\r\n    elevation: 10,\r\n  },\r\n  registerGradient: { flex: 1, justifyContent: \"center\", alignItems: \"center\", flexDirection: \"row\" },\r\n  registerButtonText: { color: \"#fff\", fontSize: 16, fontWeight: \"700\", letterSpacing: 0.5, marginLeft: 8 },\r\n\r\n  backButton: {\r\n    padding: 14,\r\n    borderRadius: 12,\r\n    alignItems: \"center\",\r\n    borderWidth: 1.5,\r\n    borderColor: \"rgba(100, 200, 255, 0.3)\",\r\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n  },\r\n  backButtonText: { color: \"#64c8ff\", fontSize: 14, fontWeight: \"700\", letterSpacing: 0.5 },\r\n\r\n  // Info panel\r\n  validationInfo: {\r\n    backgroundColor: \"rgba(100, 200, 255, 0.1)\",\r\n    borderLeftWidth: 3,\r\n    borderLeftColor: \"#64c8ff\",\r\n    padding: 14,\r\n    borderRadius: 10,\r\n    marginBottom: 20,\r\n  },\r\n  validationInfoText: { fontSize: 12, color: \"rgba(255,255,255,0.7)\", lineHeight: 20, fontWeight: \"500\" },\r\n});\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}